<?xml version="1.0" encoding="utf-8" ?>

<sqlMap namespace="AleatorikUI.Services" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">

	<resultMaps>
		<resultMap id="rtnMdmOperResMaster"  class="MdmOperResMaster" >
			<result property="routingID"   column="ROUTING_ID"/>
			<result property="operationID" column="OPERATION_ID"/>
			<result property="resourceID"  column="RESOURCE_ID"/>
			<result property="timeUom"     column="TIME_UOM"/>
			<result property="priority"    column="PRIORITY"/>
			<result property="usagePer"    column="USAGE_PER"/>
			<result property="flowTime"    column="FLOW_TIME"/>
			<result property="createTime"  column="CREATE_TIME"/>
			<result property="createUser"  column="CREATE_USER"/>
			<result property="updateTime"  column="UPDATE_TIME"/>
			<result property="updateUser"  column="UPDATE_USER"/>
		</resultMap>
		<resultMap id="rtnMdmOperResSub1"  class="MdmOperResSub1" >
			<result property="routingID"   column="ROUTING_ID"/>
			<result property="operationID" column="OPERATION_ID"/>
			<result property="resourceID"  column="RESOURCE_ID"/>
			<result property="propertyID"  column="PROPERTY_ID"/>
			<result property="value"       column="VALUE"/>
			<result property="calendarID"  column="CALENDAR_ID"/>
			<result property="createTime"  column="CREATE_TIME"/>
			<result property="createUser"  column="CREATE_USER"/>
			<result property="updateTime"  column="UPDATE_TIME"/>
			<result property="updateUser"  column="UPDATE_USER"/>
		</resultMap>
	</resultMaps>


	<statements>
		<!-- MASTER -->
		<!--SELECT-->
		<select id="MdmOperResMaster.Select" resultMap="rtnMdmOperResMaster">
			SELECT [ROUTING_ID]
				 , [OPERATION_ID]
				 , [RESOURCE_ID]
				 , [TIME_UOM]
				 , [PRIORITY]
				 , [USAGE_PER]
				 , [FLOW_TIME]
				 , [CREATE_TIME]
				 , [CREATE_USER]
				 , [UPDATE_TIME]
				 , [UPDATE_USER]
			  FROM [CFG_OPERATION_RESOURCE]
		</select>

		<!--INSERT-->
		<insert id="MdmOperResMaster.Insert" parameterClass="MdmOperResMaster">
			INSERT INTO [CFG_OPERATION_RESOURCE]
				 ( [ROUTING_ID]
				 , [OPERATION_ID]
				 , [RESOURCE_ID]
				 , [TIME_UOM]
				 , [PRIORITY]
				 , [USAGE_PER]
				 , [FLOW_TIME]
				 , [CREATE_TIME]
				 , [CREATE_USER]
				 , [UPDATE_TIME]
				 , [UPDATE_USER]
				 ) VALUES
				 ( #routingID#
				 , #operationID#
				 , #resourceID#
				 , #timeUom#
				 , #priority#
				 , #usagePer#
				 , #flowTime#
				 , getdate()
				 , #createUser#
				 , getdate()
				 , #updateUser#
				 )
		</insert>

		<!--UPDATE-->
		<update id="MdmOperResMaster.Update" parameterClass="MdmOperResMaster">
			UPDATE [CFG_OPERATION_RESOURCE]
			   SET [ROUTING_ID]   = #routingID#
				 , [OPERATION_ID] = #operationID#
				 , [RESOURCE_ID]  = #resourceID#
				 , [TIME_UOM]     = #timeUom#
				 , [PRIORITY]     = #priority#
				 , [USAGE_PER]    = #usagePer#
				 , [FLOW_TIME]    = #flowTime#
				 , [UPDATE_TIME]  = getdate()
				 , [UPDATE_USER]  = #updateUser#
			 WHERE [ROUTING_ID]   = #routingID#
			   AND [OPERATION_ID] = #operationID#
			   AND [RESOURCE_ID]  = #resourceID#
		</update>

		<!--DELETE-->
		<delete id="MdmOperResMaster.Delete" parameterClass="MdmOperResMaster">
			DELETE
			  FROM [CFG_OPERATION_RESOURCE]
			 WHERE [ROUTING_ID]   = #routingID#
			   AND [OPERATION_ID] = #operationID#
			   AND [RESOURCE_ID]  = #resourceID#
		</delete>

		<!-- Sub1 -->
		<!--SELECT-->
		<select id="MdmOperResSub1.Select" parameterClass="string"  resultMap="rtnMdmOperResSub1">
			SELECT [ROUTING_ID]
				 , [OPERATION_ID]
				 , [RESOURCE_ID]
				 , [PROPERTY_ID]
				 , [VALUE]
				 , [CALENDAR_ID]
				 , [CREATE_TIME]
				 , [CREATE_USER]
				 , [UPDATE_TIME]
				 , [UPDATE_USER]
			  FROM [CFG_OPERATION_RESOURCE_PROPERTY_VALUE]
			 WHERE [ROUTING_ID] = #routingID#
		</select>

		<!--INSERT-->
		<insert id="MdmOperResSub1.Insert" parameterClass="MdmOperResSub1">
			INSERT INTO [CFG_OPERATION_RESOURCE_PROPERTY_VALUE]
				 ( [ROUTING_ID]
				 , [OPERATION_ID]
				 , [RESOURCE_ID]
				 , [PROPERTY_ID]
				 , [VALUE]
				 , [CALENDAR_ID]
				 , [CREATE_TIME]
				 , [CREATE_USER]
				 , [UPDATE_TIME]
				 , [UPDATE_USER]
				 ) VALUES
				 ( #routingID#
				 , #operationID#
				 , #resourceID#
				 , #propertyID#
				 , #value#
				 , #calendarID#
				 , getdate()
				 , #createUser#
				 , getdate()
				 , #updateUser#
				 )
		</insert>

		<!--UPDATE-->
		<update id="MdmOperResSub1.Update" parameterClass="MdmOperResSub1">
			UPDATE [CFG_OPERATION_RESOURCE_PROPERTY_VALUE]
			   SET [ROUTING_ID]   = #routingID#
				 , [OPERATION_ID] = #operationID#
				 , [RESOURCE_ID]  = #resourceID#
				 , [PROPERTY_ID]  = #propertyID#
				 , [VALUE]        = #value#
				 , [CALENDAR_ID]  = #calendarID#
				 , [UPDATE_TIME]  = getdate()
				 , [UPDATE_USER]  = #updateUser#
			 WHERE [ROUTING_ID]   = #routingID#
			   AND [OPERATION_ID] = #operationID#
			   AND [RESOURCE_ID]  = #resourceID#
			   AND [PROPERTY_ID]  = #propertyID#
		</update>

		<!--DELETE-->
		<delete id="MdmOperResSub1.Delete" parameterClass="MdmOperResSub1">
			DELETE
			  FROM [CFG_OPERATION_RESOURCE_PROPERTY_VALUE]
			 WHERE [ROUTING_ID]   = #routingID#
			   AND [OPERATION_ID] = #operationID#
			   AND [RESOURCE_ID]  = #resourceID#
			   AND [PROPERTY_ID]  = #propertyID#
		</delete>
	</statements>
</sqlMap>