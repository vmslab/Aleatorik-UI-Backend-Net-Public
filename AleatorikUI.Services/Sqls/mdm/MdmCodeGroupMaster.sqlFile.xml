<?xml version="1.0" encoding="utf-8" ?>

<sqlMap namespace="AleatorikUI.Services" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://ibatis.apache.org/mapping">

	<resultMaps>
		<resultMap id="rtnMdmCodeGroupMaster"  class="MdmCodeGroupMaster" >
			<result property="categoryID"   column="CATEGORY_ID"/>
			<result property="description"  column="DESCRIPTION"/>
		</resultMap>
		<resultMap id="rtnMdmCodeGroupSub1"  class="MdmCodeGroupSub1" >
			<result property="categoryID"   column="CATEGORY_ID"/>
			<result property="codeID"		column="CODE_ID"/>
			<result property="codeName"		column="CODE_NAME"/>
			<result property="seq"			column="SEQ"/>
		</resultMap>	
	</resultMaps>


	<statements>
	<!-- MASTER -->
		<!--SELECT-->
		<select id="MdmCodeGroupMaster.Select" resultMap="rtnMdmCodeGroupMaster">
			SELECT CATEGORY_ID
				 , DESCRIPTION
			  FROM CFG_CODE_CATEGORY
		</select>

		<!--INSERT-->
		<insert id="MdmCodeGroupMaster.Insert" parameterClass="MdmCodeGroupMaster">
			INSERT INTO CFG_CODE_CATEGORY
				( CATEGORY_ID
				, DESCRIPTION
				) VALUES
				( #categoryID#
				, #description#
				)
		</insert>

		<!--UPDATE-->
		<update id="MdmCodeGroupMaster.Update" parameterClass="MdmCodeGroupMaster">
			UPDATE CFG_CODE_CATEGORY
			   SET DESCRIPTION         = #description#
			 WHERE CATEGORY_ID = #categoryID#
		</update>

		<!--DELETE-->
		<delete id="MdmCodeGroupMaster.Delete" parameterClass="MdmCodeGroupMaster">
			DELETE
			  FROM CFG_CODE_CATEGORY
			 WHERE CATEGORY_ID = #categoryID#
		</delete>
		
	<!-- Sub1 -->
		<!--SELECT-->
		<select id="MdmCodeGroupSub1.Select" parameterClass="string"  resultMap="rtnMdmCodeGroupSub1">
			SELECT CATEGORY_ID
				 , CODE_ID
				 , CODE_NAME
				 , SEQ
			  FROM CFG_CODE
			 WHERE CATEGORY_ID = #categoryID#
		</select>

		<!--INSERT-->
		<insert id="MdmCodeGroupSub1.Insert" parameterClass="MdmCodeGroupSub1">
			INSERT INTO CFG_CODE
				 ( CATEGORY_ID
				 , CODE_ID
				 , CODE_NAME
				 , SEQ
				 ) VALUES
				 ( #categoryID#
				 , #codeID#
				 , #codeName#
				 , #seq#
				 )
		</insert>

		<!--UPDATE-->
		<update id="MdmCodeGroupSub1.Update" parameterClass="MdmCodeGroupSub1">
			UPDATE CFG_CODE
			   SET CODE_NAME   = #codeName#
				 , SEQ         = #seq#
			 WHERE CATEGORY_ID = #categoryID#
			   AND CODE_ID     = #codeID#
		</update>

		<!--DELETE-->
		<delete id="MdmCodeGroupSub1.Delete" parameterClass="MdmCodeGroupSub1">
			DELETE
			  FROM CFG_CODE
			 WHERE CATEGORY_ID = #categoryID#
			   AND CODE_ID     = #codeID#
		</delete>
	</statements>
</sqlMap>